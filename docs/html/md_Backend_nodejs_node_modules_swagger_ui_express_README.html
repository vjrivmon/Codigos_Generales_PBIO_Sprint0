<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Códigos Generales Sprint 0 PBIO: Swagger UI Express</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Códigos Generales Sprint 0 PBIO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Buscar','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Buscar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Swagger UI Express </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Statements   </th><th class="markdownTableHeadNone">Branches   </th><th class="markdownTableHeadNone">Functions   </th><th class="markdownTableHeadNone">Lines    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><img src="https://img.shields.io/badge/Coverage-89.87%25-yellow.svg" alt="Statements" style="pointer-events: none;" class="inline"/>   </td><td class="markdownTableBodyNone"><img src="https://img.shields.io/badge/Coverage-78.57%25-red.svg" alt="Branches" style="pointer-events: none;" class="inline"/>   </td><td class="markdownTableBodyNone"><img src="https://img.shields.io/badge/Coverage-91.67%25-brightgreen.svg" alt="Functions" style="pointer-events: none;" class="inline"/>   </td><td class="markdownTableBodyNone"><img src="https://img.shields.io/badge/Coverage-89.74%25-yellow.svg" alt="Lines" style="pointer-events: none;" class="inline"/>   </td></tr>
</table>
<p >This module allows you to serve auto-generated <a href="https://swagger.io/tools/swagger-ui/">swagger-ui</a> generated API docs from express, based on a <code>swagger.json</code> file. The result is living documentation for your API hosted from your API server via a route.</p>
<p >Swagger version is pulled from npm module swagger-ui-dist. Please use a lock file or specify the version of swagger-ui-dist you want to ensure it is consistent across environments.</p>
<p >You may be also interested in:</p>
<ul>
<li><a href="https://github.com/Surnet/swagger-jsdoc">swagger-jsdoc</a>: Allows you to markup routes with jsdoc comments. It then produces a full swagger yml config dynamically, which you can pass to this module to produce documentation. See below under the usage section for more info.</li>
<li><a href="https://github.com/swagger-api">swagger tools</a>: Various tools, including swagger editor, swagger code gen etc.</li>
</ul>
<h1><a class="anchor" id="autotoc_md3317"></a>
Usage</h1>
<p >Install using npm:</p>
<div class="fragment"><div class="line">$ npm install swagger-ui-express</div>
</div><!-- fragment --><p >Express setup <code>app.js</code> </p><div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument));</div>
</div><!-- fragment --><p >or if you are using Express router</p>
<div class="fragment"><div class="line">const router = require(&#39;express&#39;).Router();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">router.use(&#39;/api-docs&#39;, swaggerUi.serve);</div>
<div class="line">router.get(&#39;/api-docs&#39;, swaggerUi.setup(swaggerDocument));</div>
</div><!-- fragment --><p >Open <a href="http://">http://</a><code>&lt;app_host&gt;</code>:<code>&lt;app_port&gt;</code>/api-docs in your browser to view the documentation.</p>
<p >If you want to set up routing based on the swagger document checkout <a href="https://www.npmjs.com/package/swagger-express-router">swagger-express-router</a></p>
<h2><a class="anchor" id="autotoc_md3318"></a>
&lt;a href="https://www.npmjs.com/package/swagger-jsdoc" &gt;swagger-jsdoc&lt;/a&gt;</h2>
<p >If you are using swagger-jsdoc simply pass the swaggerSpec into the setup function:</p>
<div class="fragment"><div class="line">// Initialize swagger-jsdoc -&gt; returns validated swagger spec in json format</div>
<div class="line">const swaggerSpec = swaggerJSDoc(options);</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerSpec));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3319"></a>
Swagger Explorer</h2>
<p >By default the Swagger Explorer bar is hidden, to display it pass true as the 'explorer' property of the options to the setup function:</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  explorer: true</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3320"></a>
Custom swagger options</h2>
<p >To pass custom options e.g. validatorUrl, to the SwaggerUi client pass an object as the 'swaggerOptions' property of the options to the setup function:</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  swaggerOptions: {</div>
<div class="line">    validatorUrl: null</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><p >For all the available options, refer to <a href="https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/configuration.md">Swagger UI Configuration</a></p>
<h2><a class="anchor" id="autotoc_md3321"></a>
Custom CSS styles</h2>
<p >To customize the style of the swagger page, you can pass custom CSS as the 'customCss' property of the options to the setup function.</p>
<p >E.g. to hide the swagger header:</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customCss: &#39;.swagger-ui .topbar { display: none }&#39;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3322"></a>
Custom CSS styles from Url</h2>
<p >You can also pass the url to a custom css file, the value must be the public url of the file and can be relative or absolute to the swagger path.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customCssUrl: &#39;/custom.css&#39;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><p >You can also pass an array of css urls to load multiple css files.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customCssUrl: [</div>
<div class="line">    &#39;/custom.css&#39;,</div>
<div class="line">    &#39;https://example.com/other-custom.css&#39;</div>
<div class="line">  ]</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3323"></a>
Custom JS</h2>
<p >If you would like to have full control over your HTML you can provide your own javascript file, value accepts absolute or relative path. Value must be the public url of the js file.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customJs: &#39;/custom.js&#39;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><p >You can also pass an array of js urls to load multiple js files.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customJs: [</div>
<div class="line">    &#39;/custom.js&#39;,</div>
<div class="line">    &#39;https://example.com/other-custom.js&#39;</div>
<div class="line">  ]</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><p >It is also possible to add inline javascript, either as string or array of string.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customJsStr: &#39;console.log(&quot;Hello World&quot;)&#39;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  customJsStr: [</div>
<div class="line">    &#39;console.log(&quot;Hello World&quot;)&#39;,</div>
<div class="line">    `</div>
<div class="line">    var x = 1</div>
<div class="line">    console.log(x)</div>
<div class="line">    `</div>
<div class="line">  ]</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3324"></a>
Load swagger from url</h2>
<p >To load your swagger from a url instead of injecting the document, pass <code>null</code> as the first parameter, and pass the relative or absolute URL as the 'url' property to 'swaggerOptions' in the setup function.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  swaggerOptions: {</div>
<div class="line">    url: &#39;http://petstore.swagger.io/v2/swagger.json&#39;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(null, options));</div>
</div><!-- fragment --><p >To load multiple swagger documents from urls as a dropdown in the explorer bar, pass an array of object with <code>name</code> and <code>url</code> to 'urls' property to 'swaggerOptions' in the setup function.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">  explorer: true,</div>
<div class="line">  swaggerOptions: {</div>
<div class="line">    urls: [</div>
<div class="line">      {</div>
<div class="line">        url: &#39;http://petstore.swagger.io/v2/swagger.json&#39;,</div>
<div class="line">        name: &#39;Spec1&#39;</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        url: &#39;http://petstore.swagger.io/v2/swagger.json&#39;,</div>
<div class="line">        name: &#39;Spec2&#39;</div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(null, options));</div>
</div><!-- fragment --><p >Make sure 'explorer' option is set to 'true' in your setup options for the dropdown to be visible.</p>
<h2><a class="anchor" id="autotoc_md3325"></a>
Load swagger from yaml file</h2>
<p >To load your swagger specification yaml file you need to use a module able to convert yaml to json; for instance <code>yaml</code>. </p><pre class="fragment">npm install yaml
</pre> <div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const fs = require(&quot;fs&quot;)</div>
<div class="line">const YAML = require(&#39;yaml&#39;)</div>
<div class="line"> </div>
<div class="line">const file  = fs.readFileSync(&#39;./swagger.yaml&#39;, &#39;utf8&#39;)</div>
<div class="line">const swaggerDocument = YAML.parse(file)</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serve, swaggerUi.setup(swaggerDocument));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3326"></a>
Modify swagger file on the fly before load</h2>
<p >To dynamically set the host, or any other content, in the swagger file based on the incoming request object you may pass the json via the req object; to achieve this just do not pass the the swagger json to the setup function and it will look for <code>swaggerDoc</code> in the <code>req</code> object.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {}</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs&#39;, function(req, res, next){</div>
<div class="line">    swaggerDocument.host = req.get(&#39;host&#39;);</div>
<div class="line">    req.swaggerDoc = swaggerDocument;</div>
<div class="line">    next();</div>
<div class="line">}, swaggerUi.serveFiles(swaggerDocument, options), swaggerUi.setup());</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3327"></a>
Two swagger documents</h2>
<p >To run 2 swagger ui instances with different swagger documents, use the serveFiles function instead of the serve function. The serveFiles function has the same signature as the setup function.</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocumentOne = require(&#39;./swagger-one.json&#39;);</div>
<div class="line">const swaggerDocumentTwo = require(&#39;./swagger-two.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {}</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs-one&#39;, swaggerUi.serveFiles(swaggerDocumentOne, options), swaggerUi.setup(swaggerDocumentOne));</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs-two&#39;, swaggerUi.serveFiles(swaggerDocumentTwo, options), swaggerUi.setup(swaggerDocumentTwo));</div>
<div class="line"> </div>
<div class="line">app.use(&#39;/api-docs-dynamic&#39;, function(req, res, next){</div>
<div class="line">  req.swaggerDoc = swaggerDocument;</div>
<div class="line">  next();</div>
<div class="line">}, swaggerUi.serveFiles(), swaggerUi.setup());</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3328"></a>
Link to Swagger document</h2>
<p >To render a link to the swagger document for downloading within the swagger ui - then serve the swagger doc as an endpoint and use the url option to point to it:</p>
<div class="fragment"><div class="line">const express = require(&#39;express&#39;);</div>
<div class="line">const app = express();</div>
<div class="line">const swaggerUi = require(&#39;swagger-ui-express&#39;);</div>
<div class="line">const swaggerDocument = require(&#39;./swagger.json&#39;);</div>
<div class="line"> </div>
<div class="line">var options = {</div>
<div class="line">    swaggerOptions: {</div>
<div class="line">        url: &quot;/api-docs/swagger.json&quot;,</div>
<div class="line">    },</div>
<div class="line">}</div>
<div class="line">app.get(&quot;/api-docs/swagger.json&quot;, (req, res) =&gt; res.json(swaggerDocument));</div>
<div class="line">app.use(&#39;/api-docs&#39;, swaggerUi.serveFiles(null, options), swaggerUi.setup(null, options));</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3329"></a>
Requirements</h1>
<ul>
<li>Node v0.10.32 or above</li>
<li>Express 4 or above</li>
</ul>
<h1><a class="anchor" id="autotoc_md3330"></a>
Testing</h1>
<ul>
<li>Install phantom</li>
<li><code>npm install</code></li>
<li><code>npm test</code> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
