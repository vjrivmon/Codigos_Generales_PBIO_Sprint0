\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Statements   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Branches   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Functions   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Lines    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Statements   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Branches   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Functions   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Lines    }\\\cline{1-4}
\endhead
   &   &   &   \\\cline{1-4}
\end{longtabu}


This module allows you to serve auto-\/generated \href{https://swagger.io/tools/swagger-ui/}{\texttt{ swagger-\/ui}} generated API docs from express, based on a {\ttfamily swagger.\+json} file. The result is living documentation for your API hosted from your API server via a route.

Swagger version is pulled from npm module swagger-\/ui-\/dist. Please use a lock file or specify the version of swagger-\/ui-\/dist you want to ensure it is consistent across environments.

You may be also interested in\+:


\begin{DoxyItemize}
\item \href{https://github.com/Surnet/swagger-jsdoc}{\texttt{ swagger-\/jsdoc}}\+: Allows you to markup routes with jsdoc comments. It then produces a full swagger yml config dynamically, which you can pass to this module to produce documentation. See below under the usage section for more info.
\item \href{https://github.com/swagger-api}{\texttt{ swagger tools}}\+: Various tools, including swagger editor, swagger code gen etc.
\end{DoxyItemize}\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3317}{}\doxysection{Usage}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3317}
Install using npm\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install swagger-\/ui-\/express}

\end{DoxyCode}


Express setup {\ttfamily app.\+js} 
\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument));}

\end{DoxyCode}


or if you are using Express router


\begin{DoxyCode}{0}
\DoxyCodeLine{const router = require('express').Router();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{router.use('/api-\/docs', swaggerUi.serve);}
\DoxyCodeLine{router.get('/api-\/docs', swaggerUi.setup(swaggerDocument));}

\end{DoxyCode}


Open \href{http://}{\texttt{ http\+://}}{\ttfamily \texorpdfstring{$<$}{<}app\+\_\+host\texorpdfstring{$>$}{>}}\+:{\ttfamily \texorpdfstring{$<$}{<}app\+\_\+port\texorpdfstring{$>$}{>}}/api-\/docs in your browser to view the documentation.

If you want to set up routing based on the swagger document checkout \href{https://www.npmjs.com/package/swagger-express-router}{\texttt{ swagger-\/express-\/router}}\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3318}{}\doxysubsection{$<$a href=\char`\"{}https\+://www.\+npmjs.\+com/package/swagger-\/jsdoc\char`\"{} $>$swagger-\/jsdoc$<$/a$>$}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3318}
If you are using swagger-\/jsdoc simply pass the swagger\+Spec into the setup function\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{// Initialize swagger-\/jsdoc -\/> returns validated swagger spec in json format}
\DoxyCodeLine{const swaggerSpec = swaggerJSDoc(options);}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3319}{}\doxysubsection{Swagger Explorer}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3319}
By default the Swagger Explorer bar is hidden, to display it pass true as the \textquotesingle{}explorer\textquotesingle{} property of the options to the setup function\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  explorer: true}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3320}{}\doxysubsection{Custom swagger options}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3320}
To pass custom options e.\+g. validator\+Url, to the Swagger\+Ui client pass an object as the \textquotesingle{}swagger\+Options\textquotesingle{} property of the options to the setup function\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  swaggerOptions: \{}
\DoxyCodeLine{    validatorUrl: null}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}


For all the available options, refer to \href{https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/configuration.md}{\texttt{ Swagger UI Configuration}}\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3321}{}\doxysubsection{Custom CSS styles}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3321}
To customize the style of the swagger page, you can pass custom CSS as the \textquotesingle{}custom\+Css\textquotesingle{} property of the options to the setup function.

E.\+g. to hide the swagger header\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customCss: '.swagger-\/ui .topbar \{ display: none \}'}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3322}{}\doxysubsection{Custom CSS styles from Url}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3322}
You can also pass the url to a custom css file, the value must be the public url of the file and can be relative or absolute to the swagger path.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customCssUrl: '/custom.css'}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}


You can also pass an array of css urls to load multiple css files.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customCssUrl: [}
\DoxyCodeLine{    '/custom.css',}
\DoxyCodeLine{    'https://example.com/other-\/custom.css'}
\DoxyCodeLine{  ]}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3323}{}\doxysubsection{Custom JS}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3323}
If you would like to have full control over your HTML you can provide your own javascript file, value accepts absolute or relative path. Value must be the public url of the js file.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customJs: '/custom.js'}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}


You can also pass an array of js urls to load multiple js files.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customJs: [}
\DoxyCodeLine{    '/custom.js',}
\DoxyCodeLine{    'https://example.com/other-\/custom.js'}
\DoxyCodeLine{  ]}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}


It is also possible to add inline javascript, either as string or array of string.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customJsStr: 'console.log("{}Hello World"{})'}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  customJsStr: [}
\DoxyCodeLine{    'console.log("{}Hello World"{})',}
\DoxyCodeLine{    `}
\DoxyCodeLine{    var x = 1}
\DoxyCodeLine{    console.log(x)}
\DoxyCodeLine{    `}
\DoxyCodeLine{  ]}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument, options));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3324}{}\doxysubsection{Load swagger from url}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3324}
To load your swagger from a url instead of injecting the document, pass {\ttfamily null} as the first parameter, and pass the relative or absolute URL as the \textquotesingle{}url\textquotesingle{} property to \textquotesingle{}swagger\+Options\textquotesingle{} in the setup function.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  swaggerOptions: \{}
\DoxyCodeLine{    url: 'http://petstore.swagger.io/v2/swagger.json'}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(null, options));}

\end{DoxyCode}


To load multiple swagger documents from urls as a dropdown in the explorer bar, pass an array of object with {\ttfamily name} and {\ttfamily url} to \textquotesingle{}urls\textquotesingle{} property to \textquotesingle{}swagger\+Options\textquotesingle{} in the setup function.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{  explorer: true,}
\DoxyCodeLine{  swaggerOptions: \{}
\DoxyCodeLine{    urls: [}
\DoxyCodeLine{      \{}
\DoxyCodeLine{        url: 'http://petstore.swagger.io/v2/swagger.json',}
\DoxyCodeLine{        name: 'Spec1'}
\DoxyCodeLine{      \},}
\DoxyCodeLine{      \{}
\DoxyCodeLine{        url: 'http://petstore.swagger.io/v2/swagger.json',}
\DoxyCodeLine{        name: 'Spec2'}
\DoxyCodeLine{      \}}
\DoxyCodeLine{    ]}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(null, options));}

\end{DoxyCode}


Make sure \textquotesingle{}explorer\textquotesingle{} option is set to \textquotesingle{}true\textquotesingle{} in your setup options for the dropdown to be visible.\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3325}{}\doxysubsection{Load swagger from yaml file}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3325}
To load your swagger specification yaml file you need to use a module able to convert yaml to json; for instance {\ttfamily yaml}. \begin{DoxyVerb}npm install yaml
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const fs = require("{}fs"{})}
\DoxyCodeLine{const YAML = require('yaml')}
\DoxyCodeLine{}
\DoxyCodeLine{const file  = fs.readFileSync('./swagger.yaml', 'utf8')}
\DoxyCodeLine{const swaggerDocument = YAML.parse(file)}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3326}{}\doxysubsection{Modify swagger file on the fly before load}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3326}
To dynamically set the host, or any other content, in the swagger file based on the incoming request object you may pass the json via the req object; to achieve this just do not pass the the swagger json to the setup function and it will look for {\ttfamily swagger\+Doc} in the {\ttfamily req} object.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{\}}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs', function(req, res, next)\{}
\DoxyCodeLine{    swaggerDocument.host = req.get('host');}
\DoxyCodeLine{    req.swaggerDoc = swaggerDocument;}
\DoxyCodeLine{    next();}
\DoxyCodeLine{\}, swaggerUi.serveFiles(swaggerDocument, options), swaggerUi.setup());}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3327}{}\doxysubsection{Two swagger documents}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3327}
To run 2 swagger ui instances with different swagger documents, use the serve\+Files function instead of the serve function. The serve\+Files function has the same signature as the setup function.


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocumentOne = require('./swagger-\/one.json');}
\DoxyCodeLine{const swaggerDocumentTwo = require('./swagger-\/two.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{\}}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs-\/one', swaggerUi.serveFiles(swaggerDocumentOne, options), swaggerUi.setup(swaggerDocumentOne));}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs-\/two', swaggerUi.serveFiles(swaggerDocumentTwo, options), swaggerUi.setup(swaggerDocumentTwo));}
\DoxyCodeLine{}
\DoxyCodeLine{app.use('/api-\/docs-\/dynamic', function(req, res, next)\{}
\DoxyCodeLine{  req.swaggerDoc = swaggerDocument;}
\DoxyCodeLine{  next();}
\DoxyCodeLine{\}, swaggerUi.serveFiles(), swaggerUi.setup());}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3328}{}\doxysubsection{Link to Swagger document}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3328}
To render a link to the swagger document for downloading within the swagger ui -\/ then serve the swagger doc as an endpoint and use the url option to point to it\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const express = require('express');}
\DoxyCodeLine{const app = express();}
\DoxyCodeLine{const swaggerUi = require('swagger-\/ui-\/express');}
\DoxyCodeLine{const swaggerDocument = require('./swagger.json');}
\DoxyCodeLine{}
\DoxyCodeLine{var options = \{}
\DoxyCodeLine{    swaggerOptions: \{}
\DoxyCodeLine{        url: "{}/api-\/docs/swagger.json"{},}
\DoxyCodeLine{    \},}
\DoxyCodeLine{\}}
\DoxyCodeLine{app.get("{}/api-\/docs/swagger.json"{}, (req, res) => res.json(swaggerDocument));}
\DoxyCodeLine{app.use('/api-\/docs', swaggerUi.serveFiles(null, options), swaggerUi.setup(null, options));}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3329}{}\doxysection{Requirements}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3329}

\begin{DoxyItemize}
\item Node v0.\+10.\+32 or above
\item Express 4 or above
\end{DoxyItemize}\hypertarget{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3330}{}\doxysection{Testing}\label{md_Backend_nodejs_node_modules_swagger_ui_express_README_autotoc_md3330}

\begin{DoxyItemize}
\item Install phantom
\item {\ttfamily npm install}
\item {\ttfamily npm test} 
\end{DoxyItemize}