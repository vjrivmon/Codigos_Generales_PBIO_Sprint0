

\href{http://mariadb.com/}{\texttt{  }} \hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1812}{}\doxysection{Maria\+DB Node.\+js connector}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1812}
\href{http://npmjs.org/package/mariadb}{\texttt{ }} \href{https://app.travis-ci.com/github/mariadb-corporation/mariadb-connector-nodejs}{\texttt{ }} \href{http://opensource.org/licenses/LGPL-2.1}{\texttt{ }} \href{https://codecov.io/gh/mariadb-corporation/mariadb-connector-nodejs}{\texttt{ }}

{\bfseries{Non-\/blocking Maria\+DB and My\+SQL client for Node.\+js.}}

Maria\+DB and My\+SQL client, 100\% Java\+Script, with Type\+Script definition, with the Promise API.

version before 2.\+4 is compatible with Node.\+js 6+ version after 2.\+4 is compatible with Node.\+js 10+\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1813}{}\doxysubsection{Documentation}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1813}
See \href{https://github.com/mariadb-corporation/mariadb-connector-nodejs/blob/master/documentation/promise-api.md}{\texttt{ promise documentation}} for detailed API.

\href{https://github.com/mariadb-corporation/mariadb-connector-nodejs/blob/master/documentation/callback-api.md}{\texttt{ Callback documentation}} describe the callback wrapper for compatibility with existing drivers.\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1814}{}\doxysubsection{Why a New Client?}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1814}
While there are existing My\+SQL clients that work with Maria\+DB, (such as the \href{https://www.npmjs.com/package/mysql}{\texttt{ {\ttfamily mysql}}} and \href{https://www.npmjs.com/package/mysql2}{\texttt{ {\ttfamily mysql2}}} clients), the Maria\+DB Node.\+js Connector offers new functionality, like Insert Streaming, Pipelining, \href{https://mariadb.org/history-of-mysql-mariadb-authentication-protocols/}{\texttt{ ed25519 plugin authentication}} while making no compromises on performance.\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1815}{}\doxysubsubsection{Insert Streaming}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1815}
Using a Readable stream in your application, you can stream {\ttfamily INSERT} statements to Maria\+DB through the Connector.


\begin{DoxyCode}{0}
\DoxyCodeLine{https.get('https://someContent', readableStream => \{}
\DoxyCodeLine{    //readableStream implement Readable, driver will stream data to database }
\DoxyCodeLine{    connection.query("{}INSERT INTO myTable VALUE (?)"{}, [readableStream]);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1816}{}\doxysubsubsection{Pipelining}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1816}
With Pipelining, the Connector sends commands without waiting for server results, preserving order. For instance, consider the use of executing two {\ttfamily INSERT} statements.

 

The Connector doesn\textquotesingle{}t wait for query results before sending the next {\ttfamily INSERT} statement. Instead, it sends queries one after the other, avoiding much of the network latency.

For more information, see the Pipelining documentation.\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1817}{}\doxysubsubsection{Bulk insert}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1817}
Some use cases require a large amount of data to be inserted into a database table. By using batch processing, these queries can be sent to the database in one call, thus improving performance.

For more information, see the Batch documentation.\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1818}{}\doxysubsection{Benchmarks}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1818}
Maria\+DB provides benchmarks comparing the Connector with popular Node.\+js My\+SQL clients, including\+:


\begin{DoxyItemize}
\item \href{https://www.npmjs.com/package/promise-mysql}{\texttt{ {\ttfamily promise-\/mysql}}} version 4.\+0.\+4 + \href{https://www.npmjs.com/package/mysql}{\texttt{ {\ttfamily mysql}}} version 2.\+17.\+1
\item \href{https://www.npmjs.com/package/mysql2}{\texttt{ {\ttfamily mysql2}}} version 1.\+6.\+5
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{promise-\/mysql  : 646 ops/sec ±2.20\%}
\DoxyCodeLine{mysql2         : 746 ops/sec ±2.35\%}
\DoxyCodeLine{mariadb        : 961 ops/sec ±2.82\%}

\end{DoxyCode}


query\+: {\bfseries{SELECT \texorpdfstring{$<$}{<} all mysql fields \texorpdfstring{$>$}{>}, 1 FROM mysql.\+user LIMIT 1}}



For more information, see the Benchmarks page.\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1819}{}\doxysubsection{Quick Start}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1819}
The Maria\+DB Connector is available through the Node.\+js repositories. You can install it using npm \+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install mariadb}

\end{DoxyCode}
 example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{const mariadb = require('mariadb');}
\DoxyCodeLine{const pool = mariadb.createPool(\{host: process.env.DB\_HOST, user: process.env.DB\_USER, connectionLimit: 5\});}
\DoxyCodeLine{}
\DoxyCodeLine{async function asyncFunction() \{}
\DoxyCodeLine{  let conn;}
\DoxyCodeLine{  try \{}
\DoxyCodeLine{}
\DoxyCodeLine{    conn = await pool.getConnection();}
\DoxyCodeLine{    const rows = await conn.query("{}SELECT 1 as val"{});}
\DoxyCodeLine{    // rows: [ \{val: 1\}, meta: ... ]}
\DoxyCodeLine{}
\DoxyCodeLine{    const res = await conn.query("{}INSERT INTO myTable value (?, ?)"{}, [1, "{}mariadb"{}]);}
\DoxyCodeLine{    // res: \{ affectedRows: 1, insertId: 1, warningStatus: 0 \}}
\DoxyCodeLine{}
\DoxyCodeLine{  \} finally \{}
\DoxyCodeLine{    if (conn) conn.release(); //release to pool}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1820}{}\doxysubsection{Contributing}\label{md_Backend_nodejs_node_modules_mariadb_README_autotoc_md1820}
If you would like to contribute to the Maria\+DB Node.\+js Connector, please follow the instructions given in the Developers Guide.

To file an issue or follow the development, see \href{https://jira.mariadb.org/projects/CONJS/issues/}{\texttt{ JIRA}}. 